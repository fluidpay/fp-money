!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FPMoney=t():e.FPMoney=t()}(window,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){"use strict";function n(e,t){void 0===t&&(t=2),""===(e=e.toString())&&(e="0");for(var i="1",n=0;n<t;n++)i+="0";var r=parseInt(i,10);return-1!==e.indexOf(".")&&(e=(parseFloat(e)*r).toString()),0===t?parseInt(e,10):parseFloat((parseInt(e,10)/r).toFixed(t))}function r(){return void 0!==navigator.languages?navigator.languages[0]:navigator.language?navigator.language:"en-US"}t.__esModule=!0,t.currencies={USD:{symbol:"$",fraction:2},EUR:{symbol:"€",fraction:2},GBP:{symbol:"£",fraction:2},INR:{symbol:"₹",fraction:2},CRC:{symbol:"₡",fraction:2},VND:{symbol:"₫",fraction:0},HUF:{symbol:"Ft",fraction:2},ILS:{symbol:"₪",fraction:2},CNY:{symbol:"¥",fraction:2},KRW:{symbol:"₩",fraction:0},NGN:{symbol:"₦",fraction:2},PYG:{symbol:"₲",fraction:0},PHP:{symbol:"₱",fraction:2},PLN:{symbol:"zł",fraction:2},THB:{symbol:"฿",fraction:2},UAH:{symbol:"₴",fraction:2},JPY:{symbol:"¥",fraction:0}},t.intToFraction=n,t.fractionToInt=function(e,t){void 0===t&&(t=2);for(var i=e.toString(),n="1",r=0;r<t;r++)n+="0";var s=parseInt(n,10),o=Math.round(parseFloat(i)*s).toString();return parseInt(o,10)},t.displayValue=function(e,t,i,s){return void 0===s&&(s=r()),new Intl.NumberFormat(s,{localeMatcher:"best fit",style:"currency",currency:t.toUpperCase(),currencyDisplay:"symbol",minimumFractionDigits:i,maximumFractionDigits:i}).format(n(e,i))},t.getLocale=r},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0);!function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(0));var r=function(){function e(e){var t;this.isNegaitve=!1,this.value="",this.display="",this.format="",this.currencies=JSON.parse(JSON.stringify(n.currencies)),this.currency="",this.locale=n.getLocale(),this.maxValue=0,this.showSelection=!0,this.validate(e),t="string"==typeof e.container?document.querySelector(e.container):e.container,this.container=t,e.currencies&&(this.currencies=e.currencies),e.currency?this.currency=e.currency.toUpperCase():this.currency=Object.keys(this.currencies)[0],e.locale&&(this.locale=e.locale),e.value&&(this.value=n.fractionToInt(e.value,this.currencies[this.currency].fraction).toString()),e.maxValue&&(this.maxValue=n.fractionToInt(e.maxValue,this.currencies[this.currency].fraction)),void 0!==e.showSelection&&(this.showSelection=e.showSelection),this.onChange=e.onChange?this.onChange=e.onChange:function(){},this.currencyDiv=document.createElement("div"),this.input=document.createElement("input"),this.select=document.createElement("select"),this.render(),this.setCurrency(this.currency)}return e.prototype.setValue=function(e){this.value=n.fractionToInt(e,this.currencies[this.currency].fraction).toString(),this.updateOutput()},e.prototype.setCurrency=function(e){e=e.toUpperCase(),this.currency=e,this.currencyDiv.innerHTML=this.currencies[e].symbol;for(var t=this.currencies[e].fraction,i="",n=0;n<t;n++)i+="0";this.input.placeholder="0"+(0===t?"":"."+i),this.select.value=e,this.updateOutput()},e.prototype.setLocale=function(e){this.locale=e,this.updateOutput()},e.prototype.destroy=function(){this.container.innerHTML=""},e.prototype.validate=function(e){if(!("string"==typeof e.container?document.querySelector(e.container):e.container))throw new Error("Could not find container")},e.prototype.updateOutput=function(){if(""!==this.value){var e=parseInt(this.value,10);0!==this.maxValue&&e>this.maxValue&&(e=this.maxValue),this.value=e.toString()}this.isNegaitve?(this.value="-"+this.value.replace("-",""),"-"===this.value&&(this.value="")):this.value=this.value.replace("-",""),this.format=n.intToFraction(this.value,this.currencies[this.currency].fraction).toFixed(this.currencies[this.currency].fraction),this.display=n.displayValue(this.value,this.currency,this.currencies[this.currency].fraction,this.locale),this.updateInputDisplay(),this.onChange({value:this.value,display:this.display,format:this.format,currency:this.currency,locale:this.locale})},e.prototype.updateInputDisplay=function(){if(""!==this.value){var e=this.display.replace(this.currencies[this.currency.toUpperCase()].symbol,""),t=this.currency;e=e.replace(t,""),t.split("").forEach(function(i,n){e=e.replace(t.substring(0,t.length-n),"")}),e=e.trim(),this.isNegaitve&&(e="-"+e.replace("-","")),this.input.value=e}else this.input.value=""},e.prototype.render=function(){var e=this;for(var t in this.container.classList.add("fpm"),this.currencyDiv.classList.add("fpm-currency"),this.input.classList.add("fpm-value"),this.select.classList.add("fpm-select"),this.input.addEventListener("keydown",function(t){e.inputKeydown(t)},!1),this.input.addEventListener("click",function(t){e.input.focus(),e.moveCursorToEnd(e.input)},!1),this.currencies)if(this.currencies.hasOwnProperty(t)){var i=document.createElement("option");i.value=t,i.text=t.toUpperCase(),this.select.appendChild(i)}this.select.addEventListener("change",function(){e.setCurrency(e.select.value)}),this.container.appendChild(this.currencyDiv),this.container.appendChild(this.input),this.showSelection&&this.container.appendChild(this.select)},e.prototype.inputKeydown=function(e){var t=e.keyCode||e.which,i=e.shiftKey;8===t||46===t?(e.preventDefault(),this.value=this.value.substring(0,this.value.length-1),"-"===this.value&&(this.value=""),this.updateOutput()):t>=48&&t<=57||t>=96&&t<=105?(e.preventDefault(),this.value+=e.key,this.updateOutput()):9===t||13===t||(107===t||i&&187===t?(e.preventDefault(),this.isNegaitve=!1,this.updateOutput()):109===t||189===t?(e.preventDefault(),this.isNegaitve=!0,this.updateOutput()):e.preventDefault())},e.prototype.moveCursorToEnd=function(e){if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if(void 0!==e.createTextRange){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}},e}();t.default=r},,function(e,t,i){"use strict";i.r(t);var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"fpmoney"})};n._withStripped=!0;var r=i(1),s=i.n(r);var o=function(e,t,i,n,r,s,o,a){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):r&&(c=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:u}}({name:"fp-money",props:{value:[String,Number],currencies:Object,currency:String,locale:String,maxValue:Number,onChange:Function,showSelection:{type:Boolean,default:!0}},data:()=>({fpmoney:null,values:{value:"",format:"",display:"",currency:"",locale:""}}),mounted(){this.init()},updated(){this.fpmoney&&this.fpmoney.destroy(),this.init()},watch:{value(e,t){this.fpmoney.setValue(e)},currency(e,t){this.fpmoney.setCurrency(e)},locale(e,t){this.fpmoney.setLocale(e)}},methods:{init(){const e={container:this.$refs.fpmoney,onChange:e=>{this.values=e,this.$emit("input",this.values.format),this.$emit("update:value",this.values.value),this.$emit("update:format",this.values.format),this.$emit("update:display",this.values.display),this.$emit("update:currency",this.values.currency),this.$emit("update:locale",this.values.locale),this.onChange&&this.onChange(e)}};this.value&&(e.value=this.value),this.currencies&&(e.currencies=this.currencies),this.currency&&(e.currency=this.currency),this.locale&&(e.locale=this.locale),this.maxValue&&(e.maxValue=this.maxValue),e.showSelection=this.showSelection,this.fpmoney=new s.a(e)}}},n,[],!1,null,null,null);o.options.__file="component.vue";t.default=o.exports}])});