!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FPMoney=e():t.FPMoney=e()}(self,(function(){return function(){"use strict";var t={474:function(t,e){function i(t,e){void 0===e&&(e=2),""===(t=t.toString())&&(t="0");for(var i="1",r=0;r<e;r++)i+="0";var n=parseInt(i,10);return-1!==t.indexOf(".")&&(t=(parseFloat(t)*n).toString()),0===e?parseInt(t,10):parseFloat((parseInt(t,10)/n).toFixed(e))}function r(){return void 0!==navigator.languages?navigator.languages[0]:navigator.language?navigator.language:"en-US"}function n(t,e){var i=e||0,r=Math.pow(10,i),n=+(i?t*r:t).toFixed(8),s=Math.floor(n),a=n-s,o=a>.5-1e-8&&a<.5+1e-8?s%2==0?s:s+1:Math.round(n);return i?o/r:o}e.__esModule=!0,e.originalNumberFromPercentage=e.bankersRounding=e.isNegative=e.getLocale=e.displayValue=e.percentOfValue=e.fractionToInt=e.intToFraction=e.currencies=void 0,e.currencies={USD:{symbol:"$",fraction:2},CAD:{symbol:"$",fraction:2},EUR:{symbol:"€",fraction:2},MXN:{symbol:"$",fraction:2},AUD:{symbol:"$",fraction:2},SEK:{symbol:"kr",fraction:2},NOK:{symbol:"kr",fraction:2},DKK:{symbol:"kr",fraction:2},GBP:{symbol:"£",fraction:2},INR:{symbol:"₹",fraction:2},CRC:{symbol:"₡",fraction:2},VND:{symbol:"₫",fraction:0},HUF:{symbol:"Ft",fraction:2},ILS:{symbol:"₪",fraction:2},CNY:{symbol:"¥",fraction:2},KRW:{symbol:"₩",fraction:0},NGN:{symbol:"₦",fraction:2},PYG:{symbol:"₲",fraction:0},PHP:{symbol:"₱",fraction:2},PLN:{symbol:"zł",fraction:2},THB:{symbol:"฿",fraction:2},UAH:{symbol:"₴",fraction:2},PEN:{symbol:"S/",fraction:2},RUB:{symbol:"₽",fraction:2},JPY:{symbol:"¥",fraction:0}},e.intToFraction=i,e.fractionToInt=function(t,e){void 0===e&&(e=2);var i=t.toString();if(""===i.trim())return 0;for(var r="1",n=0;n<e;n++)r+="0";var s=parseInt(r,10),a=Math.round(parseFloat(i)*s).toString();return parseInt(a,10)},e.percentOfValue=function(t,e,i,r){if(void 0===r&&(r="round"),""===(t=t.toString()).trim())return 0;if(t=parseFloat(t),""===(e=e.toString()).trim())return 0;e=parseFloat(e);for(var s="1",a=0;a<i;a++)s+="0";var o=parseInt(s,10);return"ceil"===r?Math.ceil(Number((t/100*e).toFixed(5))*o)/o:"floor"===r?Math.floor(Number((t/100*e).toFixed(5))*o)/o:"round"===r?Math.round(Number((t/100*e).toFixed(5))*o)/o:"bankers"===r?n(Number((t/100*e).toFixed(5))*o,0)/o:Math.round(Number((t/100*e).toFixed(5))*o)/o},e.displayValue=function(t,e,n,s){return void 0===s&&(s=r()),new Intl.NumberFormat(s,{localeMatcher:"best fit",style:"currency",currency:e.toUpperCase(),currencyDisplay:"symbol",minimumFractionDigits:n,maximumFractionDigits:n}).format(i(t,n))},e.getLocale=r,e.isNegative=function(t){return-1!==String(t).indexOf("-")},e.bankersRounding=n,e.originalNumberFromPercentage=function(t,e,i){var r=t.toString();if(""===r.trim())return 0;t=parseFloat(r);var n=e.toString();if(""===n.trim())return 0;e=parseFloat(n);for(var s="1",a=0;a<i;a++)s+="0";var o=parseInt(s,10),c=1+e/100;return Math.round(Number((t/c).toFixed(5))*o)/o}},653:function(t,e,i){var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||r(e,t,i)};e.__esModule=!0;var s=i(474);n(i(474),e);var a=function(){function t(t){var e,i,r,n,a,o=this;if(this.isNegative=!1,this.value="",this.display="",this.format="",this.currencies=JSON.parse(JSON.stringify(s.currencies)),this.currency="",this.locale=(0,s.getLocale)(),this.valueFormat="float",this.minValue=void 0,this.maxValue=void 0,this.step=1,this.disabled=!1,this.displayOnly=!1,this.showSelection=!1,this.debounceUpdateOutput=(i=function(){o.updateOutput()},void 0===r&&(r=100),void 0===n&&(n={isImmediate:!1}),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var s=this,o=function(){a=void 0,n.isImmediate||i.apply(s,t)},c=n.isImmediate&&void 0===a;void 0!==a&&clearTimeout(a),a=setTimeout(o,r),c&&i.apply(s,t)}),this.validate(t),this.mobileOs=this.getMobileOs(),e="string"==typeof t.container?document.querySelector(t.container):t.container,this.container=e,t.currencies&&(this.currencies=JSON.parse(JSON.stringify(t.currencies))),t.currency?this.currency=t.currency.toUpperCase():this.currency=Object.keys(this.currencies)[0],t.locale&&(this.locale=t.locale),t.valueFormat&&(this.valueFormat=t.valueFormat),void 0!==t.value){var c=t.value;this.isNegative=(0,s.isNegative)(c.toString()),"int"===t.valueFormat&&(c=(0,s.intToFraction)(c,this.currencies[this.currency].fraction)),this.value=(0,s.fractionToInt)(c,this.currencies[this.currency].fraction).toString()}void 0!==t.minValue&&(this.minValue=(0,s.fractionToInt)(t.minValue,this.currencies[this.currency].fraction)),void 0!==t.maxValue&&(this.maxValue=(0,s.fractionToInt)(t.maxValue,this.currencies[this.currency].fraction)),t.step&&(this.step=t.step),!0===t.disabled&&(this.disabled=!0),!0===t.displayOnly&&(this.displayOnly=!0),void 0!==t.showSelection&&(this.showSelection=t.showSelection),this.onChange=t.onChange?this.onChange=t.onChange:function(){},this.currencyDiv=document.createElement("div"),this.input=document.createElement("input"),"android"===this.mobileOs&&(this.input.inputMode="numeric"),"ios"===this.mobileOs&&(this.input.inputMode="numeric",this.input.pattern="[0-9]*"),this.select=document.createElement("select"),this.render(),this.setCurrency(this.currency),this.disabled&&this.setDisabled(this.disabled),this.displayOnly&&this.setDisplayOnly(this.displayOnly)}return t.prototype.setValue=function(t){var e=this.currencies[this.currency].fraction;t="float"===this.valueFormat?(0,s.fractionToInt)(t,e).toString():t.toString(),this.value.toString()!==t&&(this.isNegative=(0,s.isNegative)(t),this.value=(0,s.fractionToInt)((0,s.intToFraction)(t,e),e).toString(),this.debounceUpdateOutput())},t.prototype.setCurrencies=function(t){this.currencies=JSON.parse(JSON.stringify(t)),this.currencies[this.currency]||(this.currency=Object.keys(this.currencies)[0]),this.updateCurrenciesSelect(),this.setCurrency(this.currency)},t.prototype.setCurrency=function(t){this.currency=t.toUpperCase(),this.currencyDiv.innerHTML=this.currencies[this.currency].symbol;for(var e=this.currencies[this.currency].fraction,i="",r=0;r<e;r++)i+="0";this.input.placeholder="0"+(0===e?"":"."+i),this.select.value=this.currency,this.debounceUpdateOutput()},t.prototype.setLocale=function(t){this.locale=t,this.debounceUpdateOutput()},t.prototype.setDisabled=function(t){this.disabled=t,this.disabled?(this.container.classList.add("disabled"),this.input.disabled=!0,this.select.disabled=!0):(this.container.classList.remove("disabled"),this.input.disabled=!1,this.select.disabled=!1)},t.prototype.setDisplayOnly=function(t){this.displayOnly=t,this.displayOnly?(this.container.classList.add("display-only"),this.input.tabIndex=-1,this.input.readOnly=!0,this.select.disabled=!0):(this.container.classList.remove("display-only"),this.input.readOnly=!1,this.input.removeAttribute("tabindex"),this.select.disabled=!1)},t.prototype.destroy=function(){this.container.innerHTML=""},t.prototype.validate=function(t){if(!("string"==typeof t.container?document.querySelector(t.container):t.container))throw new Error("Could not find container")},t.prototype.updateOutput=function(){if(""!==this.value){var t=parseInt(this.value,10);void 0!==this.minValue&&t<this.minValue&&(t=this.minValue),void 0!==this.maxValue&&t>this.maxValue&&(t=this.maxValue),this.value=t.toString()}this.isNegative?(this.value="-"+this.value.replace("-",""),"-"===this.value&&(this.value="")):this.value=this.value.replace("-",""),this.format=(0,s.intToFraction)(this.value,this.currencies[this.currency].fraction).toFixed(this.currencies[this.currency].fraction),this.display=(0,s.displayValue)(this.value,this.currency,this.currencies[this.currency].fraction,this.locale),this.updateInputDisplay(),this.onChange({value:this.value,display:this.display,format:this.format,currency:this.currency,locale:this.locale})},t.prototype.updateInputDisplay=function(){if(""!==this.value){var t=this.display.replace(this.currencies[this.currency.toUpperCase()].symbol,""),e=this.currency;for(var i in t=t.replace(e,""),e.split("").forEach((function(i,r){t=t.replace(e.substring(0,e.length-r),"")})),s.currencies)s.currencies.hasOwnProperty(i)&&(t=(t=t.replace(i,"")).replace(s.currencies[i].symbol,""));t=t.trim(),this.isNegative&&(t="-"+t.replace("-","")),this.input.value=t}else this.input.value=""},t.prototype.render=function(){var t=this;this.container.classList.add("fpm"),this.currencyDiv.classList.add("fpm-currency"),this.input.classList.add("fpm-value"),this.input.dataset.lpignore="true",this.select.classList.add("fpm-select"),this.input.addEventListener("keydown",(function(e){t.inputKeydown(e)}),!1),this.input.addEventListener("click",(function(e){t.displayOnly?e.preventDefault():(t.input.focus(),t.moveCursorToEnd(t.input))}),!1),this.displayOnly&&this.setDisplayOnly(!0),this.updateCurrenciesSelect(),this.select.addEventListener("change",(function(){t.setCurrency(t.select.value)})),this.container.appendChild(this.currencyDiv),this.container.appendChild(this.input),this.showSelection&&this.container.appendChild(this.select)},t.prototype.updateCurrenciesSelect=function(){for(var t in this.select.innerHTML="",this.currencies)if(this.currencies.hasOwnProperty(t)){var e=document.createElement("option");e.value=t,e.text=t.toUpperCase(),this.select.appendChild(e)}},t.prototype.inputKeydown=function(t){var e=this;if(this.displayOnly)t.preventDefault();else{var i=t.key,r=i.charCodeAt(0);if("unidentified"===i.toLowerCase())return t.preventDefault(),void setTimeout((function(){e.updateOutput()}),100);if(68===r||66===r)return t.preventDefault(),this.value=this.value.substring(0,this.value.length-1),"-"===this.value&&(this.value=""),void this.updateOutput();if(r>=48&&r<=57)return t.preventDefault(),this.value+=t.key,void this.updateOutput();if(84!==r){if(43===r)return t.preventDefault(),this.isNegative=!1,void this.updateOutput();if(45===r){if(t.preventDefault(),void 0!==this.minValue&&this.minValue>=0)return;return this.isNegative=!0,void this.updateOutput()}if("ArrowUp"===i)return t.preventDefault(),this.value=String(parseInt(this.value,10)+(0,s.fractionToInt)(this.step)),void this.updateOutput();if("ArrowDown"===i)return t.preventDefault(),this.value=String(parseInt(this.value,10)-(0,s.fractionToInt)(this.step)),void this.updateOutput();t.preventDefault(),t.stopPropagation()}}},t.prototype.moveCursorToEnd=function(t){if("number"==typeof t.selectionStart)t.selectionStart=t.selectionEnd=t.value.length;else if(void 0!==t.createTextRange){t.focus();var e=t.createTextRange();e.collapse(!1),e.select()}},t.prototype.getMobileOs=function(){var t=window,e=navigator.userAgent||navigator.vendor||t.opera;return/windows phone/i.test(e)?"windows":/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!t.MSStream?"ios":"desktop"},t}();e.default=a}},e={};return function i(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,i),s.exports}(653)}()}));